#!/usr/bin/env jruby

$LOAD_PATH.unshift(File.expand_path(File.dirname(__FILE__) + "/../lib"))
require 'roodi'

pattern = File.join(ARGV[0], "**", "*.rb")
roodi = Roodi::Core::Runner.new
Dir.glob(pattern).each { |file| roodi.check_file(file) }
roodi.errors.each {|error| puts error}
puts "\nFound #{roodi.errors.size} errors."
exit roodi.errors.size